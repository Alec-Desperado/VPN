#!name=General Enhanced üåê
#!desc=(üñ•Ô∏è macOS edition) 1.Override the content of the skip-agent segment 2.Add the return of real IP segment content 3. Add non-MitM domain names to prevent interruption of the connection
#!author=
#!updated=2025-06-24 14:35:09 UTC
#!homepage=
#!moduleurl=https://raw.githubusercontent.com/Alec-Desperado/VPN/refs/heads/main/modules/General.Mac.sgmodule
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png
#!system=mac
#!category=General

[General]


# Skip Proxy. This option forces connections to these domains or
# IP ranges to be handled by the Shadowrocket TUN interface instead of the Shadowrocket proxy server.
# This option is used to resolve some compatibility issues with some applications.
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,213.59.192.0/18,212.193.144.0/20,localhost,*.local,captive.apple.com,*.apple.com,*.icloud.com,*.itunes.com,*.ru,cid.yandex.net,stun.l.google.com


# TUN Bypass Routing. The Shadowrocket TUN interface supports only the TCP protocol.
# Use this option to bypass the specified IP address range, allowing other protocols to pass through.
tun-excluded-routes = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,213.59.192.0/18,212.193.144.0/20


# Always use a real IP address, this option requires the Shadowrocket to process DNS queries in TUN and return a real IP address instead of a spoofed IP address.
always-real-ip = *.lan,*.local


# This option allows you to return a fake IP address, such as "stun-response-ip=1.1.1.1", "stun-response-ipv6=::1",
# to prevent real IP address leakage and enhance WebRTC security. leakage and enhance WebRTC privacy and security.
stun-response-ip=1.1.1.1
stun-response-ipv6=::1


# [MITM]
# Domains that are not MitM and should not be disconnected
# hostname = %APPEND% -*.facebook.com, -*.instagram.com, -*.twitter.com, -*.snssdk.com, -*.pstatp.com
# hostname-disabled = %APPEND% gateway.icloud.com, gateway.icloud.com.cn, weather-data.apple.com, buy.itunes.apple.com, ios.chat.openai.com
